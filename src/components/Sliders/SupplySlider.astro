---
const supplierLogos = ['eagle.png', 'morteros.png', 'manuelcorripio.png'];

const duplicatedLogos = [
	...supplierLogos,
	...supplierLogos,
	...supplierLogos,
	...supplierLogos,
	...supplierLogos,
];
---

<script>
    import Swiper from "swiper";
    import { Autoplay } from "swiper/modules";
    import "swiper/css";

    document.addEventListener('DOMContentLoaded', () => {
        const swiper = new Swiper(".swiper-suppliers", {
            modules: [Autoplay],
            direction: "horizontal",
            loop: true,
            slidesPerView: 2,
            spaceBetween: 20,

            breakpoints: {
                480: { slidesPerView: 3, spaceBetween: 20 },
                768: { slidesPerView: 4, spaceBetween: 24 },
                1024: { slidesPerView: 5, spaceBetween: 28 },
                1280: { slidesPerView: 6, spaceBetween: 32 }
            },

            autoplay: {
                delay: 0,
                disableOnInteraction: false
            },
            speed: 5000,
            allowTouchMove: false,
            grabCursor: false,
            watchSlidesProgress: true,
            loopAdditionalSlides: 10,
        });
    });
</script>

<section class="overflow-hidden w-full">
    <div class="swiper swiper-suppliers w-full h-[100px]">
        <div class="swiper-wrapper">
            {duplicatedLogos.map((logo, index) => (
                <div class="swiper-slide flex items-center justify-center h-full">
                    <img
                        class="h-[70px] w-auto object-contain grayscale opacity-70 hover:grayscale-0 hover:opacity-100 transition-all duration-300"
                        src={`/img/suppliers/${logo}`}
                        alt={`Proveedor ${index + 1}`}
                        loading="lazy"
                    />
                </div>
            ))}
        </div>
    </div>
</section>